<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>title</title>
</head>
   <style>
            body {
                background: linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%);
                font-family: 'Segoe UI', Arial, sans-serif;
                margin: 0;
                padding: 0;
                min-height: 100vh;
            }
            h2, h3 {
                text-align: center;
                color: #3b3b5c;
                margin-top: 30px;
            }
            form#reviewForm {
                background: #fff;
                max-width: 400px;
                margin: 30px auto 20px auto;
                padding: 30px 25px 20px 25px;
                border-radius: 18px;
                box-shadow: 0 8px 32px rgba(60,60,120,0.12);
                display: flex;
                flex-direction: column;
                gap: 15px;
            }
            form#reviewForm label {
                font-weight: 500;
                color: #4b5563;
                margin-bottom: 4px;
            }
            form#reviewForm input[type="text"],
            form#reviewForm select,
            form#reviewForm textarea {
                border: 1px solid #c7d2fe;
                border-radius: 8px;
                padding: 10px;
                font-size: 1rem;
                background: #f1f5f9;
                transition: border 0.2s;
            }
            form#reviewForm input:focus,
            form#reviewForm select:focus,
            form#reviewForm textarea:focus {
                outline: none;
                border-color: #6366f1;
                background: #fff;
            }
            form#reviewForm button {
                background: linear-gradient(90deg, #6366f1 0%, #818cf8 100%);
                color: #fff;
                border: none;
                border-radius: 8px;
                padding: 12px 0;
                font-size: 1.1rem;
                font-weight: bold;
                cursor: pointer;
                box-shadow: 0 2px 8px rgba(99,102,241,0.08);
                transition: background 0.2s, transform 0.1s;
            }
            form#reviewForm button:hover {
                background: linear-gradient(90deg, #818cf8 0%, #6366f1 100%);
                transform: translateY(-2px) scale(1.03);
            }
            #reviewsList {
                max-width: 500px;
                margin: 0 auto 40px auto;
                background: #fff;
                border-radius: 16px;
                box-shadow: 0 4px 24px rgba(60,60,120,0.10);
                padding: 20px 24px;
            }
            .review {
                margin-bottom: 18px;
                padding-bottom: 10px;
            }
            .review strong {
                color: #3730a3;
                font-size: 1.08em;
            }
            .review span {
                color: #facc15;
                font-size: 1.1em;
                margin-left: 8px;
            }
            .review small {
                color: #64748b;
                margin-left: 10px;
                font-size: 0.93em;
            }
            .review p {
                margin: 7px 0 0 0;
                color: #374151;
                line-height: 1.5;
            }
            hr {
                border: none;
                border-top: 1px solid #e5e7eb;
                margin: 0 0 10px 0;
            }
            @media (max-width: 600px) {
                form#reviewForm, #reviewsList {
                    max-width: 95vw;
                    padding: 16px 6vw;
                }
            }

            #backBtn {
    margin: 20px;
    padding: 10px 18px;
    background-color: #4f46e5;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(79, 70, 229, 0.2);
    transition: background 0.2s ease-in-out, transform 0.1s ease-in-out;
}
#backBtn:hover {
    background-color: #6366f1;
    transform: translateY(-1px);
}

        </style>
<body>
    <button onclick="window.location.href='index.html'" id="backBtn">← Back</button>


    <h2>Submit Your Review</h2>
<form id="reviewForm">
  <label for="userName">Name:</label>
  <input type="text" id="userName" required />

  <label for="rating">Rating (1-5):</label>
  <select id="rating" required>
    <option value="">Select rating</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>

  <label for="comment">Comment:</label>
  <textarea id="comment" rows="4" required></textarea>

  <button type="submit">Submit Review</button>
</form>

<h3>Customer Reviews</h3>
<div id="reviewsList"></div>

</body>

 <script type="module">

  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
  const reviewsRef = ref(database, 'reviews');

  const reviewForm = document.getElementById('reviewForm');
  const reviewsList = document.getElementById('reviewsList');

  reviewForm.addEventListener('submit', (e) => {
    e.preventDefault();

    const userName = document.getElementById('userName').value.trim();
    const rating = parseInt(document.getElementById('rating').value);
    const comment = document.getElementById('comment').value.trim();

    if (!userName || !rating || !comment) {
      alert('Please fill all fields!');
      return;
    }

    const newReview = {
      userName,
      rating,
      comment,
      timestamp: Date.now()
    };

    push(reviewsRef, newReview)
      .then(() => {
        reviewForm.reset();
        alert('Review submitted, thank you!');
      })
      .catch((error) => {
        alert('Error submitting review: ' + error.message);
      });
  });

  // Display reviews (latest first)
  onValue(reviewsRef, (snapshot) => {
    const reviews = snapshot.val();
    reviewsList.innerHTML = '';

    if (!reviews) {
      reviewsList.innerHTML = '<p>No reviews yet.</p>';
      return;
    }

    const reviewArr = Object.values(reviews).sort((a, b) => b.timestamp - a.timestamp);

    reviewArr.forEach(({ userName, rating, comment, timestamp }) => {
      const date = new Date(timestamp).toLocaleString();
      const stars = '⭐'.repeat(rating);

      const reviewHTML = `
        <div class="review">
          <strong>${userName}</strong> <span>${stars}</span> <small>${date}</small>
          <p>${comment}</p>
        </div>
        <hr/>
      `;
      reviewsList.insertAdjacentHTML('beforeend', reviewHTML);
    });
  });
</script>


</html>